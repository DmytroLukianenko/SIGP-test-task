(this["webpackJsonpsigp-test-task"]=this["webpackJsonpsigp-test-task"]||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c(16),n=c.n(r),s=c(50),i=c(8),l=c(28),j=c.n(l),o=c(40),d=c(119),b=c(120),u=c(80),h=c(121),m=c(122),O=c(25),x=c(14),f={queryRequest:Object(x.b)("queryFilm/getRequest"),querySuccess:Object(x.b)("queryFilm/getSuccess"),querryErorr:Object(x.b)("queryFilm/getError"),addFavoriteFilm:Object(x.b)("addFavorite/success"),loadMoreRequest:Object(x.b)("loadMore/request"),loadMoreSuccess:Object(x.b)("loadMore/success"),loadMoreError:Object(x.b)("loadMore/error"),deleteFilm:Object(x.b)("deleteFilm"),detailInfoRequest:Object(x.b)("detail/request"),detailInfoSuccess:Object(x.b)("detail/success"),detailInfoError:Object(x.b)("detail/error")},v=c(59),p=c.n(v),g=c(39),y="http://omdbapi.com/?apikey=".concat("4b446f68"),w=function(e){return function(){var t=Object(o.a)(j.a.mark((function t(c){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(f.detailInfoRequest()),t.prev=1,t.next=4,p.a.get("".concat(y,"&i=").concat(e));case 4:a=t.sent,c(f.detailInfoSuccess(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c(f.detailInfoError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},F={queryFilms:function(e){return e.filmsReducer.queryFilms},myFilms:function(e){return e.filmsReducer.myFilms},filmById:function(e){return e.filmsReducer.filmById}},k=c(1);function I(){var e=Object(i.k)(""),t=Object(O.c)(""),c=Object(O.d)(F.myFilms),a=function(){var c=Object(o.a)(j.a.mark((function c(a,r){var n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:"button"===(n=a.target.localName)||"svg"===n||"path"===n?t(f.deleteFilm(r)):(t(w(r)),e.push("/details"));case 2:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(d.a,{fluid:!0,children:[Object(k.jsx)("h2",{children:"My favorite films:"}),c.length>0?Object(k.jsx)(b.a,{as:"ul",className:"mt-3 justify-content-center",children:null===c||void 0===c?void 0:c.map((function(e){return Object(k.jsxs)(u.a,{action:!0,className:"mt-3 border-3 d-flex align-items-center",as:"li",onClick:function(t){return a(t,e.imdbID)},children:[Object(k.jsx)("div",{className:"w-25",children:Object(k.jsx)("img",{alt:"",className:"ms-4 w-25",src:e.Poster})}),Object(k.jsxs)("div",{className:"ms-4 w-25",children:["Title: ",e.Title]}),Object(k.jsxs)("div",{className:"ms-4 w-25",children:["Type: ",e.Type]}),Object(k.jsxs)("div",{className:"ms-4 me-auto",children:["Year: ",e.Year]}),Object(k.jsx)(h.a,{onClick:function(t){return a(t,e.imdbID)},variant:"outline-danger",className:"h-25",children:Object(k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(k.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(k.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]},e.imdbID)}))}):Object(k.jsxs)(m.a,{variant:"warning",className:"mt-2 text-center",children:[Object(k.jsx)(m.a.Heading,{children:"You still don't have any favorite film's"}),"You can find and add favorite film from",Object(k.jsx)(m.a.Link,{href:"/",children:" This page"})]})]})})}var q=c(9),R=c(125),M=c(123),N=c(82),S=c(126),T=Object(O.b)()((function(){var e=Object(a.useState)(""),t=Object(q.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(2),s=Object(q.a)(n,2),l=s[0],b=s[1],u=Object(O.c)(""),m=Object(i.k)(""),x=Object(O.d)(F.queryFilms),v=Object(O.d)(F.myFilms);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(d.a,{children:[Object(k.jsx)(R.a,{onSubmit:function(e){if(e.preventDefault(),!c.length)return g.b.warning("Search should contain at least 1 symbol");u(function(e){return function(){var t=Object(o.a)(j.a.mark((function t(c){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(f.queryRequest()),t.prev=1,t.next=4,p.a.get("".concat(y,"&s=").concat(e));case 4:(a=t.sent).data.Search?c(f.querySuccess(a.data)):g.b.warning(a.data.Error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c(f.queryError(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))},children:Object(k.jsxs)(M.a,{className:"mt-4 center",children:[Object(k.jsx)(N.a,{sm:"10",children:Object(k.jsx)(R.a.Control,{placeholder:"Enter title of movie your are looking for",onChange:function(e){var t=e.target.value;r(t)},min:1})}),Object(k.jsx)(N.a,{children:Object(k.jsx)(h.a,{type:"submit",variant:"warning",children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"white",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})})]})}),Object(k.jsxs)(M.a,{sm:"12",children:[x&&x.map((function(e){return Object(k.jsx)(N.a,{sm:"4",children:Object(k.jsxs)(S.a,{id:e.imdbID,bg:"dark",border:"secondary",text:"light",className:"mt-5 h-100",onClick:function(t){return function(e,t){var c=e.target.localName;"svg"!==c&&"path"!==c&&(u(w(t)),m.push("/details"))}(t,e.imdbID)},children:[Object(k.jsx)(S.a.Img,{variant:"top",src:e.Poster}),Object(k.jsxs)(S.a.Body,{children:[Object(k.jsxs)(M.a,{children:[Object(k.jsx)(N.a,{sm:"10",children:Object(k.jsxs)(S.a.Title,{children:["Title: ",e.Title]})}),Object(k.jsx)(N.a,{onClick:function(){return function(e){v.find((function(t){return t.imdbID===e.imdbID}))?u(f.deleteFilm(e.imdbID)):u(f.addFavoriteFilm(e))}(e)},sm:"2",className:"justify-content-right",children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:v.find((function(t){return t.imdbID===e.imdbID}))?"orange":"white",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})})]}),Object(k.jsxs)(S.a.Text,{children:["Year: ",e.Year]}),Object(k.jsxs)(S.a.Text,{children:["Type: ",e.Type]})]})]})},e.imdbID)})),x.length>0&&Object(k.jsx)(h.a,{variant:"warning",className:"mt-5",onClick:function(){b(l+1),u(function(e,t){return function(){var c=Object(o.a)(j.a.mark((function c(a){var r;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a(f.loadMoreRequest()),c.prev=1,c.next=4,p.a.get("".concat(y,"&s=").concat(t,"&page=").concat(e));case 4:r=c.sent,a(f.loadMoreSuccess(r.data)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),a(f.loadMoreError(c.t0));case 11:case"end":return c.stop()}}),c,null,[[1,8]])})));return function(e){return c.apply(this,arguments)}}()}(l,c))},children:"Load More"})]})]})})}));function B(){var e=Object(i.k)(""),t=Object(O.d)(F.filmById);return Object(k.jsxs)(d.a,{children:[Object(k.jsx)(h.a,{variant:"secondary",onClick:function(){return e.goBack()},className:"mt-3 float-right",children:"Back"}),Object(k.jsx)(S.a,{className:"mt-3 border-3 c",children:Object(k.jsxs)(M.a,{children:[Object(k.jsx)(N.a,{sm:"4",children:Object(k.jsx)(S.a.Img,{variant:"left",src:t.Poster})}),Object(k.jsxs)(N.a,{children:[Object(k.jsxs)(S.a.Body,{children:[Object(k.jsx)(S.a.Title,{children:t.Title}),Object(k.jsx)(S.a.Text,{children:t.Plot}),Object(k.jsx)(S.a.Text,{children:t.Type})]}),Object(k.jsxs)(b.a,{className:"list-group-flush",children:[Object(k.jsxs)(u.a,{children:["Year: ",t.Year]}),Object(k.jsxs)(u.a,{children:["Rated: ",t.Rated]}),Object(k.jsxs)(u.a,{children:["Released: ",t.Released]}),Object(k.jsxs)(u.a,{children:["Runtime: ",t.Runtime]}),Object(k.jsxs)(u.a,{children:["Genre: ",t.Genre]}),Object(k.jsxs)(u.a,{children:["Director: ",t.Director]}),Object(k.jsxs)(u.a,{children:["Writer: ",t.Writer]}),Object(k.jsxs)(u.a,{children:["Actors: ",t.Actors]}),Object(k.jsxs)(u.a,{children:["Language: ",t.Language]}),Object(k.jsxs)(u.a,{children:["Country: ",t.Country]}),Object(k.jsxs)(u.a,{children:["Awards: ",t.Awards]}),Object(k.jsxs)(u.a,{children:["imdbRating: ",t.imdbRating]}),Object(k.jsxs)(u.a,{children:["imdbVotes: ",t.imdbVotes]}),Object(k.jsxs)(u.a,{children:["Website: ",t.Website]}),Object(k.jsxs)(u.a,{children:["Response: ",t.Response]})]})]})]})})]})}var D=c(124),C=c(127),L=c(66);function z(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(D.a,{bg:"dark",variant:"dark",children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(C.a,{className:"me-auto",children:[Object(k.jsx)(L.LinkContainer,{className:"p-2",to:"/",children:Object(k.jsxs)(C.a.Link,{children:["Search",Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})]})}),Object(k.jsx)(L.LinkContainer,{to:"/favorite",children:Object(k.jsx)(C.a.Link,{children:"Favorite"})})]})})})})}var E,V=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(s.BrowserRouter,{children:[Object(k.jsx)(z,{}),Object(k.jsxs)(i.g,{children:[Object(k.jsx)(i.d,{exact:!0,path:"/",component:T}),Object(k.jsx)(i.d,{path:"/details",component:B}),Object(k.jsx)(i.d,{path:"/favorite",component:I})]})]}),Object(k.jsx)(g.a,{})]})},Y=(c(115),c(116),c(7)),A=c(33),H=c(2),P=c(24),W=Object(x.c)(Object(H.a)({},{queryFilms:[],error:"",filmById:{},myFilms:[]}),(E={},Object(Y.a)(E,f.querySuccess,(function(e,t){var c=t.payload;return Object(H.a)(Object(H.a)({},e),{},{queryFilms:Object(A.a)(c.Search)})})),Object(Y.a)(E,f.addFavoriteFilm,(function(e,t){var c=t.payload;return Object(H.a)(Object(H.a)({},e),{},{myFilms:[].concat(Object(A.a)(e.myFilms),[Object(H.a)({},c)])})})),Object(Y.a)(E,f.loadMoreSuccess,(function(e,t){var c=t.payload;return Object(H.a)(Object(H.a)({},e),{},{queryFilms:[].concat(Object(A.a)(e.queryFilms),Object(A.a)(c.Search))})})),Object(Y.a)(E,f.deleteFilm,(function(e,t){var c=t.payload;return Object(H.a)(Object(H.a)({},e),{},{myFilms:e.myFilms.filter((function(e){return e.imdbID!==c}))})})),Object(Y.a)(E,f.detailInfoSuccess,(function(e,t){var c=t.payload;return Object(H.a)(Object(H.a)({},e),{},{filmById:c})})),E)),G=Object(P.b)({filmsReducer:W}),J=c(43),K=Object(x.a)({reducer:G,middleware:[J.a]});n.a.render(Object(k.jsx)(O.a,{store:K,children:Object(k.jsx)(V,{})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.f9c0f489.chunk.js.map